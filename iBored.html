<head>
  <title>Post an Event</title>
  <script type = "text/javascript"></script>
</head>

<body class="container-fluid" id="background">
  <div class="row">
    <div class="col-lg-12 col-centered">
    
    <div id="login-page">
      {{> loginButtons}}
    </div>

    {{#if currentUser}}

    <div id="submit-event-page">
      <header>
        <script src="js/jquery.js"></script> 
        <script src="js/moment.min.js"></script> 
        <script src="js/combodate.js"></script> 
        <h1>Post an Event</h1>
          {{> addEventForm}}
      </header>
  </div>

    <div id="main-page">
      <header>
        {{> mainPageBody}}
      </header>
    </div>
    <div id="event-details">
      <header>
        {{> eventDetailsBody}}
      </header>
    </div>
    {{/if}}
  </div>
  </div>
  </body>


<template name="addEventForm">
    <form> <!--user submits title, location, start, and end of event-->
      <div class="form-group">
          <p>Event Title: </p><input class="form-control" type="text" name="eventTitle" placeholder="Enter a brief title" />
        </div>

        <div class="form-group">
        <p>Location: </p><input class="form-control" type="text" name="eventLocation"/>
        </div>

        <div class="form-group">
        <p>Start Time: </p><input class="form-control" type="text" id="startTime" data-format="HH:mm" data-template="HH : mm" name="eventStart">
      </div>
<script>
$(function(){
    $('#startTime').combodate({
        firstItem: 'name', //show 'hour' and 'minute' string at first item of dropdown
        minuteStep: 1
    });  
});
</script>
        <div class="form-group">
        <p>End Time: </p><input class="form-control" type="text" id="time" data-format="HH:mm" data-template="HH : mm" name="eventEnd">
      </div>
<script>
$(function(){
    $('#time').combodate({
        firstItem: 'name', //show 'hour' and 'minute' string at first item of dropdown
        minuteStep: 1
    });  
});
</script>
        <input type="submit" value="Submit" class="btn btn-success btn-large">
    </form>
  <button type="button" id="returnToMainPage" class="btn btn-warning btn-large">Go Back</button>
</template>

<template name="mainPageBody">
  {{#each events}}
    {{> getEvent}}
  {{/each}}
  <button type="button" id="postEvent" class="btn btn-primary">Post an Event</button>
</template>

<template name="getEvent">
  <div class="eventDetailsSummary panel panel-default text-center">
    <ul data-id="{{_id}}" class="list-group">
      <li class="list-group-item">{{title}}</li>
      <li class="list-group-item">Hearts: {{hearts}}</li>
    </ul>
  </div>
  <div class="eventDetailsBody">
  <br>
    {{> eventDetailsBody}}
    <p>{{counter}} people are going</p>
  </div>
</template>

<template name="eventDetailsBody">
  <p>{{title}}</p>
  <p>{{startTime}} to {{endTime}}</p>
  <p>Location: {{nominalLocation}}</p>
  <button type = "button" id="heartclick">HEART this event</button>
</template>
